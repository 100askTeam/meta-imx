SUMMARY = "Qualcomm WiFi driver for QCA module 9377 and 6174"
LICENSE = "BSD & GPLv2"
LIC_FILES_CHKSUM = "file://CORE/HDD/src/wlan_hdd_main.c;beginline=1;endline=20;md5=ec8d62116b13db773825ebf7cf91be1d;"

inherit module

QCACLD_SRC ?= "git://source.codeaurora.org/external/imx/qcacld-2.0-imx.git;protocol=https"
SRC_URI = "${QCACLD_SRC};branch=IMX_CNSS.LEA.NRT_2.0"
SRCREV = "e008d2578b09f1f593f65ede48529a52312e3957"

S = "${WORKDIR}/git"

QCA6174_OEMAKE = "CONFIG_ROME_IF=pci CONFIG_WLAN_FEATURE_11W=y CONFIG_WLAN_FEATURE_FILS=y \
                  CONFIG_WLAN_WAPI_MODE_11AC_DISABLE=y MODNAME=qca6174"
QCA9377_OEMAKE = "CONFIG_CLD_HL_SDIO_CORE=y CONFIG_PER_VDEV_TX_DESC_POOL=1 SAP_AUTH_OFFLOAD=1 CONFIG_QCA_LL_TX_FLOW_CT=1\
                  CONFIG_WLAN_FEATURE_FILS=y CONFIG_FEATURE_COEX_PTA_CONFIG_ENABLE=y CONFIG_QCA_SUPPORT_TXRX_DRIVER_TCP_DEL_ACK=y \
                  CONFIG_WLAN_WAPI_MODE_11AC_DISABLE=y MODNAME=qca9377"

EXTRA_OEMAKE += "CONFIG_CFG80211_INTERNAL_REGDB=y CONFIG_PMF_SUPPORT=y CONFIG_LINUX_QCMBR=y"
EXTRA_OEMAKE += "TARGET_BUILD_VARIANT=user CONFIG_NON_QC_PLATFORM=y"
EXTRA_OEMAKE += "CONFIG_HDD_WLAN_WAIT_TIME=10000"

RDEPENDS_${PN} = "qca-tools"
