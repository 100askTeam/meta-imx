diff --git a/onnxruntime/core/mlas/lib/mlasi.h b/onnxruntime/core/mlas/lib/mlasi.h
index 084a27b..86488c9 100644
--- a/onnxruntime/core/mlas/lib/mlasi.h
+++ b/onnxruntime/core/mlas/lib/mlasi.h
@@ -75,6 +75,11 @@ Abstract:
 //
 // Select the threading model.
 //
+#ifdef _OPENMP
+#define MLAS_NO_ONNXRUNTIME_THREADPOOL
+#endif
+#include <stdio.h>
+
 
 #if !defined(MLAS_NO_ONNXRUNTIME_THREADPOOL)
 #include "core/platform/threadpool.h"

